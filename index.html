<style>
    table{
        border: 1px solid red;
        position: absolute;
        left: 0px;
        top: 0px; 
    }
    td{
        border: 1px dashed black;
        height: 25px;
        width: 25px;
    }
    td.selected{
        background-color: red;
    }
</style>


<div id="main_frame"></div>

<script>

    let main_frame = document.getElementById('main_frame');

    window.addEventListener( 'click', () => {
        color_cell( event.srcElement );
    });



    // purpose : To initialize frame to DOM
    // params  : levels - Number of levels to build
    function init_frame( levels ){
        for (let i = 0; i < levels; i++) {
            const level = i + 1;
            let new_frame = document.createElement( 'table' );
            new_frame.setAttribute( 'id', String( level ) );
            draw_level( new_frame, level, 100, 100 );
            main_frame.appendChild( new_frame );
        }
    };

    
    // purpose : To draw the level, row by row.
    // params  : new_frame - Frame DOM Element
    //           level     - Current floor level
    //           rows      - Number of rows to build
    //           columns   - Number of columns to build
    function draw_level( new_frame, level, rows, columns ){
        for (let i = 0; i < rows; i++) {
            const row = i + 1;
            let new_row = document.createElement( 'tr' );
            draw_cells( new_row, level, row, columns );
            new_frame.appendChild( new_row );
        };
    };


    // purpose : To draw the cells, column by column.
    // params  : new_row - Row DOM Element
    //           level   - Current floor level
    //           row     - Current row number
    //           columns - Number of columns to build cells for
    function draw_cells( new_row, level, row, columns ){
        for (let j = 0; j < columns; j++) {
                const column = j + 1;
                const full_coord = String( level ) + '-' + String( column ) + '-' + String( row );
                let new_cell = document.createElement( 'td' );
                new_cell.setAttribute( 'class', '' );
                new_cell.setAttribute( 'data-coord', full_coord );
                new_cell.setAttribute( 'id', full_coord );
                new_cell.setAttribute( 'level-coord', String( level ) );
                new_cell.setAttribute( 'x-coord', String( column ) );
                new_cell.setAttribute( 'y-coord', String( row ) );
                new_row.appendChild( new_cell );
            };
    };


    function color_cell( element ){
        let coords = element.getAttribute( 'data-coord' );

        console.log( coords );

        let classes = element.getAttribute( 'class' );
        if ( classes.indexOf( 'selected' ) == -1 ){
            element.setAttribute( 'class', 'selected' )
        } else {
            element.setAttribute( 'class', '' )
        }
    }

    init_frame( 10 );


</script>





